$(document).ready(function(){$("#UserGroupsAccess_1_cedula").bind("keyup blur",function(){keyNum(this,false)});$("#UserGroupsAccess_1_username").bind("keyup blur",function(){keyAlphaNum(this,false,false);clearField(this);makeUpper(this)});$("#UserGroupsAccess_1_nombre").bind("keyup blur",function(){keyAlphaNum(this,true,true);makeUpper(this)});$("#UserGroupsAccess_1_apellido").bind("keyup blur",function(){keyAlphaNum(this,true,true);makeUpper(this)});$("#UserGroupsAccess_1_email").bind("keyup blur",function(){keyEmail(this,false)});$("#UserGroupsAccess_1_telefono").bind("keyup blur",function(){keyNum(this,false)});$("#UserGroupsAccess_1_telefono_celular").bind("keyup blur",function(){keyNum(this,false)});$("#UserGroupsAccess_1_cedula").bind("blur",function(){var b=$(this).val();if(b.length>3){var a="V-"+b;buscarCedulaAutoridad(a)}})});function buscarCedulaAutoridad(b){var a=$("#plantel_id").val();if(b!=""||b!=null){$.ajax({url:"/userGroups/usuario/buscarCedula",data:{cedula:b,plantel_id:a},dataType:"json",type:"post",success:function(c){if(c.statusCode==="mensaje"){dialogo_error(c.mensaje);$("#UserGroupsAccess_1_username").val(c.usuario)}if(c.statusCode==="successU"){$("#UserGroupsAccess_1_nombre").val(c.nombre);$("#UserGroupsAccess_1_apellido").val(c.apellido);if($("#UserGroupsAccess_1_username").val().length===0||($("#UserGroupsAccess_1_username").val()!=c.usuario&&c.usuario.length!==0)){$("#UserGroupsAccess_1_username").val(c.usuario)}}}})}}function dialogo_error(b){$("#dialog_error p").html(b);var a=$("#dialog_error").removeClass("hide").dialog({modal:true,width:"450px",dragable:false,resizable:false,title:"<div class='widget-header widget-header-small'><h4 class='smaller'><i class='fa fa-exclamation-triangle'></i> Mensaje de Error</h4></div>",title_html:true,buttons:[{html:"<i class='icon-remove bigger-110'></i>&nbsp; Cerrar","class":"btn btn-xs",click:function(){$(this).dialog("close")}}]})}function validateUserForm(c){var d=$("#UserGroupsAccess_1_password").val();if(lasClavesCoinciden()){if(d.length>=6||(c!="new"&&d.length===0)){var a=$("#UserGroupsAccess_1_telefono").val();var b=$("#UserGroupsAccess_1_telefono_celular").val();if(!isValidPhone(a,"fijo")&&a.length>0){displayDialogBox("resultado","error","- El teléfono fijo debe contener el código de área y tener 10 u 11 dígitos. Ej.1: 02563641666. Ej.2: 2563641666.");$("html, body").animate({scrollTop:0},"fast");return false}if(!isValidPhone(b,"movil")&&b.length>0){displayDialogBox("resultado","error","- El teléfono móvil debe contener el código de la operadora y tener 10 u 11 dígitos. Ej.1: 04161234567. Se permiten los códigos 0416, 0426, 0414, 0424 y 0412.");$("html, body").animate({scrollTop:0},"fast");return false}return true}else{displayDialogBox("resultado","error","Las Claves debe contener al menos 6 caracteres. Puede incluir los caracteres especiales @-#$&+.*^¿?=~.");$("html, body").animate({scrollTop:0},"fast");return false}}else{displayDialogBox("resultado","error","La Clave de Confirmación no coincide con la Clave Nueva Ingresada.");$("html, body").animate({scrollTop:0},"fast");return false}}function lasClavesCoinciden(){var b=$("#UserGroupsAccess_1_password").val();var a=$("#UserGroupsAccess_1_password_confirm").val();return(a===b)};