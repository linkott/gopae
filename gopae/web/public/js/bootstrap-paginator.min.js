(function(e){"use strict";var t=function(e,t){this.init(e,t)},n=null;t.prototype={init:function(t,n){this.$element=e(t);var r=n&&n.bootstrapMajorVersion?n.bootstrapMajorVersion:e.fn.bootstrapPaginator.defaults.bootstrapMajorVersion,i=this.$element.attr("id");if(r===2&&!this.$element.is("div")){throw"in Bootstrap version 2 the pagination must be a div element. Or if you are using Bootstrap pagination 3. Please specify it in bootstrapMajorVersion in the option"}else if(r>2&&!this.$element.is("ul")){throw"in Bootstrap version 3 the pagination root item must be an ul element."}this.currentPage=1;this.lastPage=1;this.setOptions(n);this.initialized=true},setOptions:function(t){this.options=e.extend({},this.options||e.fn.bootstrapPaginator.defaults,t);this.totalPages=parseInt(this.options.totalPages,10);this.numberOfPages=parseInt(this.options.numberOfPages,10);if(t&&typeof t.currentPage!=="undefined"){this.setCurrentPage(t.currentPage)}this.listen();this.render();if(!this.initialized&&this.lastPage!==this.currentPage){this.$element.trigger("page-changed",[this.lastPage,this.currentPage])}},listen:function(){this.$element.off("page-clicked");this.$element.off("page-changed");if(typeof this.options.onPageClicked==="function"){this.$element.bind("page-clicked",this.options.onPageClicked)}if(typeof this.options.onPageChanged==="function"){this.$element.on("page-changed",this.options.onPageChanged)}this.$element.bind("page-clicked",this.onPageClicked)},destroy:function(){this.$element.off("page-clicked");this.$element.off("page-changed");this.$element.removeData("bootstrapPaginator");this.$element.empty()},show:function(e){this.setCurrentPage(e);this.render();if(this.lastPage!==this.currentPage){this.$element.trigger("page-changed",[this.lastPage,this.currentPage])}},showNext:function(){var e=this.getPages();if(e.next){this.show(e.next)}},showPrevious:function(){var e=this.getPages();if(e.prev){this.show(e.prev)}},showFirst:function(){var e=this.getPages();if(e.first){this.show(e.first)}},showLast:function(){var e=this.getPages();if(e.last){this.show(e.last)}},onPageItemClicked:function(e){var t=e.data.type,n=e.data.page;this.$element.trigger("page-clicked",[e,t,n])},onPageClicked:function(t,n,r,i){var s=e(t.currentTarget);switch(r){case"first":s.bootstrapPaginator("showFirst");break;case"prev":s.bootstrapPaginator("showPrevious");break;case"next":s.bootstrapPaginator("showNext");break;case"last":s.bootstrapPaginator("showLast");break;case"page":s.bootstrapPaginator("show",i);break}},render:function(){var t=this.getValueFromOption(this.options.containerClass,this.$element),n=this.options.size||"normal",r=this.options.alignment||"left",i=this.getPages(),s=this.options.bootstrapMajorVersion===2?e("<ul></ul>"):this.$element,o=this.options.bootstrapMajorVersion===2?this.getValueFromOption(this.options.listContainerClass,s):null,u=null,a=null,f=null,l=null,c=null,h=0;this.$element.prop("class","");this.$element.addClass("pagination");switch(n.toLowerCase()){case"large":case"small":case"mini":this.$element.addClass(e.fn.bootstrapPaginator.sizeArray[this.options.bootstrapMajorVersion][n.toLowerCase()]);break;default:break}if(this.options.bootstrapMajorVersion===2){switch(r.toLowerCase()){case"center":this.$element.addClass("pagination-centered");break;case"right":this.$element.addClass("pagination-right");break;default:break}}this.$element.addClass(t);this.$element.empty();if(this.options.bootstrapMajorVersion===2){this.$element.append(s);s.addClass(o)}this.pageRef=[];if(i.first){u=this.buildPageItem("first",i.first);if(u){s.append(u)}}if(i.prev){a=this.buildPageItem("prev",i.prev);if(a){s.append(a)}}for(h=0;h<i.length;h=h+1){c=this.buildPageItem("page",i[h]);if(c){s.append(c)}}if(i.next){f=this.buildPageItem("next",i.next);if(f){s.append(f)}}if(i.last){l=this.buildPageItem("last",i.last);if(l){s.append(l)}}},buildPageItem:function(t,n){var r=e("<li></li>"),i=e("<a></a>"),s="",o="",u=this.options.itemContainerClass(t,n,this.currentPage),a=this.getValueFromOption(this.options.itemContentClass,t,n,this.currentPage),f=null;switch(t){case"first":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage)){return}s=this.options.itemTexts(t,n,this.currentPage);o=this.options.tooltipTitles(t,n,this.currentPage);break;case"last":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage)){return}s=this.options.itemTexts(t,n,this.currentPage);o=this.options.tooltipTitles(t,n,this.currentPage);break;case"prev":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage)){return}s=this.options.itemTexts(t,n,this.currentPage);o=this.options.tooltipTitles(t,n,this.currentPage);break;case"next":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage)){return}s=this.options.itemTexts(t,n,this.currentPage);o=this.options.tooltipTitles(t,n,this.currentPage);break;case"page":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage)){return}s=this.options.itemTexts(t,n,this.currentPage);o=this.options.tooltipTitles(t,n,this.currentPage);break}r.addClass(u).append(i);i.addClass(a).html(s).on("click",null,{type:t,page:n},e.proxy(this.onPageItemClicked,this));if(this.options.pageUrl){i.attr("href",this.getValueFromOption(this.options.pageUrl,t,n,this.currentPage))}if(this.options.useBootstrapTooltip){f=e.extend({},this.options.bootstrapTooltipOptions,{title:o});i.tooltip(f)}else{i.attr("title",o)}return r},setCurrentPage:function(e){if(e>this.totalPages||e<1){throw"Page out of range"}this.lastPage=this.currentPage;this.currentPage=parseInt(e,10)},getPages:function(){var e=this.totalPages,t=this.currentPage%this.numberOfPages===0?(parseInt(this.currentPage/this.numberOfPages,10)-1)*this.numberOfPages+1:parseInt(this.currentPage/this.numberOfPages,10)*this.numberOfPages+1,n=[],r=0,i=0;t=t<1?1:t;for(r=t,i=0;i<this.numberOfPages&&r<=e;r=r+1,i=i+1){n.push(r)}n.first=1;if(this.currentPage>1){n.prev=this.currentPage-1}else{n.prev=1}if(this.currentPage<e){n.next=this.currentPage+1}else{n.next=e}n.last=e;n.current=this.currentPage;n.total=e;n.numberOfPages=this.options.numberOfPages;return n},getValueFromOption:function(e){var t=null,n=Array.prototype.slice.call(arguments,1);if(typeof e==="function"){t=e.apply(this,n)}else{t=e}return t}};n=e.fn.bootstrapPaginator;e.fn.bootstrapPaginator=function(n){var r=arguments,i=null;e(this).each(function(s,o){var u=e(o),a=u.data("bootstrapPaginator"),f=typeof n!=="object"?null:n;if(!a){a=new t(this,f);u=e(a.$element);u.data("bootstrapPaginator",a);return}if(typeof n==="string"){if(a[n]){i=a[n].apply(a,Array.prototype.slice.call(r,1))}else{throw"Method "+n+" does not exist"}}else{i=a.setOptions(n)}});return i};e.fn.bootstrapPaginator.sizeArray={2:{large:"pagination-large",small:"pagination-small",mini:"pagination-mini"},3:{large:"pagination-lg",small:"pagination-sm",mini:""}};e.fn.bootstrapPaginator.defaults={containerClass:"",size:"normal",alignment:"left",bootstrapMajorVersion:2,listContainerClass:"",itemContainerClass:function(e,t,n){return t===n?"active":""},itemContentClass:function(e,t,n){return""},currentPage:1,numberOfPages:5,totalPages:1,pageUrl:function(e,t,n){return null},onPageClicked:null,onPageChanged:null,useBootstrapTooltip:false,shouldShowPage:function(e,t,n){var r=true;switch(e){case"first":r=n!==1;break;case"prev":r=n!==1;break;case"next":r=n!==this.totalPages;break;case"last":r=n!==this.totalPages;break;case"page":r=true;break}return r},itemTexts:function(e,t,n){switch(e){case"first":return"&lt;&lt;";case"prev":return"&lt;";case"next":return"&gt;";case"last":return"&gt;&gt;";case"page":return t}},tooltipTitles:function(e,t,n){switch(e){case"first":return"Go to first page";case"prev":return"Go to previous page";case"next":return"Go to next page";case"last":return"Go to last page";case"page":return t===n?"Current page is "+t:"Go to page "+t}},bootstrapTooltipOptions:{animation:true,html:true,placement:"top",selector:false,title:"",container:false}};e.fn.bootstrapPaginator.Constructor=t})(window.jQuery)